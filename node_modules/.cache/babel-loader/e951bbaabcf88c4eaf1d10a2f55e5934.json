{"ast":null,"code":"export default {\n  data() {\n    return {\n      iconeCurrent: require(\"../assets/utils/audio.svg\"),\n      seePlaylist: true,\n      music: false,\n      current: {},\n      index: 0,\n      isPlaying: false,\n      songs: [{\n        title: \"Adiós\",\n        artist: \"Selena Gomez\",\n        img: require(\"../assets/img/music/a10.jpg\"),\n        src: require(\"../assets/file/6 - Adiós.mp3\"),\n        like: false\n      }, {\n        title: \"Divine\",\n        artist: \"Rema\",\n        img: require(\"../assets/img/music/a6.jpg\"),\n        src: require(\"../assets/file/Runaway i- Rema (320).mp3\"),\n        like: false\n      }, {\n        title: \"Booska taciturne\",\n        artist: \"Dinos\",\n        img: require(\"../assets/img/music/a9.jpg\"),\n        src: require(\"../assets/file/Dinos - Booska taciturne.mp3\"),\n        like: false\n      }],\n      player: new Audio(),\n      update_duree: null,\n      current_duree: \"00:00\",\n      total_duree: \"00:00\",\n      repetition: 0,\n      boucle: \"ordre\",\n      OneRepeate: false,\n      volume: 60,\n      piste: 0,\n      i: 0\n    };\n  },\n\n  methods: {\n    playlist() {\n      if (this.seePlaylist == true) {\n        this.music = true;\n        this.seePlaylist = false;\n      } else {\n        this.seePlaylist = true;\n        this.music = false;\n      }\n    },\n\n    createSong() {\n      if (JSON.parse(localStorage.getItem(\"piste\"))) {\n        this.index = JSON.parse(localStorage.getItem(\"piste\"));\n      } else {\n        this.index = 0;\n      }\n\n      this.current = this.songs[this.index];\n      this.player.src = this.current.src;\n    },\n\n    stockageFavoris() {\n      localStorage.setItem(\"favoris\", JSON.stringify(this.songs));\n    },\n\n    stockagePiste() {\n      localStorage.setItem(\"piste\", JSON.stringify(this.index));\n    },\n\n    random_bg_color() {\n      // Get a number between 64 to 256 (for getting lighter colors)\n      let red = Math.floor(Math.random() * 256) + 64;\n      let green = Math.floor(Math.random() * 256) + 64;\n      let blue = Math.floor(Math.random() * 256) + 64;\n      let bgColor = \"rgb(\" + red + \",\" + green + \",\" + blue + \",\" + \"0.6\" + \")\";\n      console.log(bgColor); // Set the background to that color\n      // document.querySelector(\".bg-content\").style.backgroundColor = bgColor;\n    },\n\n    repeterList(repetition, option) {\n      if (option === \"prev\") {\n        if (repetition === 0) {\n          this.index = 0;\n        } else if (repetition === 1) {\n          this.index = this.songs.length - 1;\n        } else {\n          this.index = this.songs.length - 1;\n        }\n      } else {\n        if (repetition === 0) {\n          this.index = this.songs.length - 1;\n        } else if (repetition === 1) {\n          this.index = 0;\n        } else {\n          this.index = 0;\n        }\n      }\n    },\n\n    ordre() {\n      this.repetition = 1;\n      this.boucle = \"all\";\n    },\n\n    repeatAll() {\n      this.OneRepeate = true;\n      this.repetition = 3;\n      this.boucle = \"repeatOne\";\n    },\n\n    repeatOne() {\n      this.OneRepeate = false;\n      this.repetition = 0;\n      this.boucle = \"ordre\";\n    },\n\n    formatTime(seconds) {\n      let minutes = Math.floor(seconds / 60);\n      seconds = Math.floor(seconds % 60);\n      let output = minutes >= 10 ? `${minutes}` : `0${minutes}`;\n      output += seconds >= 10 ? `:${seconds}` : `:0${seconds}`;\n      return output;\n    },\n\n    listenersWhenPlay() {\n      this.player.addEventListener(\"timeupdate\", () => {\n        if (!isNaN(this.player.duration)) {\n          this.current_duree = this.formatTime(this.player.currentTime);\n          this.total_duree = this.formatTime(this.player.duration);\n          let seekPosition = this.player.currentTime * (100 / this.player.duration);\n          this.piste = seekPosition;\n        }\n      });\n      this.player.addEventListener(\"ended\", () => {\n        this.next();\n      });\n    },\n\n    playe(song) {\n      if (typeof song.src !== \"undefined\") {\n        this.index = this.songs.indexOf(song);\n        this.current = song;\n        this.player.src = this.current.src;\n        this.random_bg_color();\n      }\n\n      this.listenersWhenPlay();\n      this.player.play();\n      this.isPlaying = true;\n      this.stockagePiste();\n    },\n\n    playClick(song, index) {\n      this.index = index;\n\n      if (typeof song.src !== \"undefined\") {\n        this.current = song;\n        this.player.src = this.current.src;\n        this.random_bg_color();\n      }\n\n      this.player.play();\n      this.isPlaying = true;\n      this.listenersWhenPlay();\n      this.stockagePiste();\n    },\n\n    pause() {\n      this.player.pause();\n      this.isPlaying = false;\n    },\n\n    prev() {\n      // this.index = this.songs.indexOf(this.current);\n      this.index--;\n\n      if (this.index < 0) {\n        this.repeterList(this.repetition, \"prev\");\n      }\n\n      this.current = this.songs[this.index];\n      this.playe(this.current);\n      this.random_bg_color();\n      this.stockagePiste();\n    },\n\n    next() {\n      this.index++;\n\n      if (this.index > this.songs.length - 1) {\n        this.repeterList(this.repetition, \"next\");\n      }\n\n      this.current = this.songs[this.index];\n      this.playe(this.current);\n      this.random_bg_color();\n      this.stockagePiste();\n    },\n\n    setVolume() {\n      this.player.volume = this.volume / 100;\n    },\n\n    setPiste() {\n      this.player.currentTime = this.player.duration * (this.piste / 100);\n    },\n\n    like() {\n      this.current.like = true;\n      this.stockageFavoris();\n    },\n\n    likeListe(index) {\n      this.songs[index].like = true;\n      this.stockageFavoris();\n    },\n\n    dislikeListe(index) {\n      this.songs[index].like = false;\n      this.stockageFavoris();\n    },\n\n    dislike() {\n      this.current.like = false;\n      this.stockageFavoris();\n    },\n\n    likeDislike() {\n      if (this.current.like == false) {\n        this.like();\n      } else {\n        this.dislike();\n      }\n    }\n\n  },\n\n  mounted() {\n    if (JSON.parse(localStorage.getItem(\"favoris\"))) {\n      this.songs = JSON.parse(localStorage.getItem(\"favoris\"));\n    }\n\n    this.createSong();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["data","iconeCurrent","require","seePlaylist","music","current","index","isPlaying","songs","title","artist","img","src","like","player","Audio","update_duree","current_duree","total_duree","repetition","boucle","OneRepeate","volume","piste","i","methods","playlist","createSong","JSON","parse","localStorage","getItem","stockageFavoris","setItem","stringify","stockagePiste","random_bg_color","red","Math","floor","random","green","blue","bgColor","console","log","repeterList","option","length","ordre","repeatAll","repeatOne","formatTime","seconds","minutes","output","listenersWhenPlay","addEventListener","isNaN","duration","currentTime","seekPosition","next","playe","song","indexOf","play","playClick","pause","prev","setVolume","setPiste","likeListe","dislikeListe","dislike","likeDislike","mounted"],"sourceRoot":"","sources":["/home/arifstephane/Projets/formule7/zpro/src/views/MusicView.vue"],"sourcesContent":["<template>\n  <div class=\"img-blur\" :style=\"{ background: 'url(' + current.img + ')' }\">\n    <div\n      class=\"\n        bg-content\n        d-flex\n        align-items-center\n        justify-content-center\n      \"\n    >\n      <div\n        v-if=\"!music\"\n        class=\"player d-flex flex-column justify-content-center\"\n      >\n        <div class=\"details__player d-flex flex-column justify-content-center\">\n          <div\n            class=\"\n              px-3\n              about__player\n              d-flex\n              flex-row\n              align-items-center\n              justify-content-between\n            \"\n          >\n            <div class=\"arrow-bottom\"><i class=\"bx bx-chevron-down\"></i></div>\n            <div\n              class=\"\n                d-flex\n                flex-column\n                justify-content-center\n                align-items-center\n              \"\n            >\n              <div class=\"from__track\">Lecture depuis</div>\n              <div class=\"from__track-title\">\n                <a\n                  class=\"link_album\"\n                  href=\"https://www.twitter.com/loicfarel\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  >Loic Farel</a\n                >\n              </div>\n            </div>\n            <div class=\"dot\"><i class=\"bx bx-dots-vertical-rounded\"></i></div>\n          </div>\n          <div\n            @dblclick=\"likeDislike\"\n            class=\"track__image align-self-center px-2\"\n            :style=\"{ background: 'url(' + current.img + ')' }\"\n            title=\"Double click pour liker ou disliker\"\n          ></div>\n        </div>\n        <div class=\"details__track mt-3\">\n          <div @click=\"like\" v-if=\"!current.like\" class=\"like\" title=\"Like\">\n            <i class=\"bx bx-heart\"></i>\n          </div>\n          <div @click=\"dislike\" v-else class=\"like\" title=\"Dislike\">\n            <i class=\"bx bxs-heart\"></i>\n          </div>\n          <div\n            class=\"d-flex flex-column justify-content-center align-items-center\"\n          >\n            <div class=\"track__name\">{{ current.title }}</div>\n            <div class=\"track__artiste\">{{ current.artist }}</div>\n          </div>\n          <div @click=\"playlist\" class=\"playlist\" title=\"Playlist\">\n            <i class=\"bx bxs-playlist\"></i>\n          </div>\n        </div>\n        <div class=\"px-4 mt-5 time__slide__player d-flex flex-column\">\n          <input\n            v-model=\"piste\"\n            @change=\"setPiste\"\n            class=\"time__slider\"\n            type=\"range\"\n            min=\"0\"\n            max=\"100\"\n            name=\"time\"\n          />\n          <div class=\"mt-2 d-flex flex-row justify-content-between\">\n            <div class=\"current__time\">{{ current_duree }}</div>\n            <div class=\"total__time\">{{ total_duree }}</div>\n          </div>\n        </div>\n\n        <div class=\"buttons__player mt-3 px-2\">\n          <div v-if=\"boucle === 'ordre'\" @click=\"ordre\" class=\"repeat\">\n            <i class=\"bx bx-transfer\"></i>\n          </div>\n          <div v-else-if=\"boucle === 'all'\" @click=\"repeatAll\" class=\"repeat\">\n            <i class=\"bx bx-refresh\"></i>\n          </div>\n          <div v-else @click=\"repeatOne\" class=\"repeat\">\n            <i class=\"bx bx-reset\"></i>\n          </div>\n          <div @click=\"prev\" class=\"prev\" title=\"Prev\">\n            <i class=\"bx bx-skip-previous\"></i>\n          </div>\n          <div v-if=\"!isPlaying\" @click=\"playe\" class=\"pause-play\" title=\"Play\">\n            <i class=\"bx bx-play-circle\"></i>\n          </div>\n          <div v-else @click=\"pause\" class=\"pause-play\" title=\"Pause\">\n            <i class=\"bx bx-pause-circle\"></i>\n          </div>\n          <div @click=\"next\" class=\"next\" title=\"Next\">\n            <i class=\"bx bx-skip-next\"></i>\n          </div>\n          <div class=\"shuffle\"><i class=\"bx bx-shuffle\"></i></div>\n        </div>\n        <div\n          class=\"\n            volume__player\n            mt-3\n            d-flex\n            align-items-center\n            justify-content-center\n          \"\n        >\n          <i v-if=\"volume == 0\" class=\"bx bx-volume-mute\"></i>\n          <i v-else class=\"bx bx-volume-low\"></i>\n          <input\n            v-model=\"volume\"\n            @change=\"setVolume\"\n            type=\"range\"\n            min=\"0\"\n            max=\"100\"\n            name=\"volume\"\n            class=\"mx-3 volume__slider\"\n          />\n          <i class=\"bx bx-volume-full\"></i>\n        </div>\n        <!-- <div\n        class=\"\n          number__tracks\n          d-flex\n          align-items-center\n          justify-content-center\n        \"\n      >\n        <span>{{ index + 1 }}/{{ songs.length }}</span>\n      </div> -->\n      </div>\n      <!-- v-if=\"!seePlaylist\" -->\n      <transition name=\"slide\">\n        <div\n          v-if=\"!seePlaylist\"\n          class=\"list__player d-flex flex-column justify-content-center\"\n        >\n          <div\n            class=\"\n              py-2\n              list__player-header\n              d-flex\n              align-items-center\n              justify-content-between\n            \"\n          >\n            <div @click=\"playlist\" class=\"arrow__back\">\n              <i class=\"bx bx-left-arrow-alt\"></i>\n            </div>\n            <div class=\"title\">File de lecture</div>\n            <div class=\"dots\"><i class=\"bx bx-dots-vertical-rounded\"></i></div>\n          </div>\n          <div class=\"list_player-body overflow__scroll\">\n            <div\n              v-for=\"(song, indexe) in this.songs\"\n              :key=\"indexe\"\n              :class=\"\n                song.src === current.src && isPlaying\n                  ? 'track__execute_play'\n                  : song.src === current.src\n                  ? 'track__execute'\n                  : ''\n              \"\n              class=\"list__track d-flex justify-content-between\"\n            >\n              <div\n                @click=\"playClick(song, indexe)\"\n                class=\"d-flex align-items-center\"\n              >\n                <div\n                  class=\"img-track\"\n                  :style=\"{ background: 'url(' + song.img + ')' }\"\n                ></div>\n                <div class=\"d-flex flex-column mt-2\">\n                  <div class=\"name__track\">{{ song.title }}</div>\n                  <div class=\"artist__track\">{{ song.artist }}</div>\n                </div>\n              </div>\n              <div\n                v-if=\"!song.like\"\n                @click=\"likeListe(indexe)\"\n                class=\"button__like align-self-center pe-2\"\n              >\n                <i class=\"bx bx-heart\"></i>\n              </div>\n              <div\n                v-else\n                @click=\"dislikeListe(indexe)\"\n                class=\"button__like align-self-center pe-2\"\n              >\n                <i class=\"bx bxs-heart\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      iconeCurrent: require(\"../assets/utils/audio.svg\"),\n      seePlaylist: true,\n      music: false,\n      current: {},\n      index: 0,\n      isPlaying: false,\n      songs: [\n        {\n          title: \"Adiós\",\n          artist: \"Selena Gomez\",\n          img: require(\"../assets/img/music/a10.jpg\"),\n          src: require(\"../assets/file/6 - Adiós.mp3\"),\n          like: false,\n        },\n\n        {\n          title: \"Divine\",\n          artist: \"Rema\",\n          img: require(\"../assets/img/music/a6.jpg\"),\n          src: require(\"../assets/file/Runaway i- Rema (320).mp3\"),\n          like: false,\n        },\n        {\n          title: \"Booska taciturne\",\n          artist: \"Dinos\",\n          img: require(\"../assets/img/music/a9.jpg\"),\n          src: require(\"../assets/file/Dinos - Booska taciturne.mp3\"),\n          like: false,\n        },\n      ],\n      player: new Audio(),\n      update_duree: null,\n      current_duree: \"00:00\",\n      total_duree: \"00:00\",\n      repetition: 0,\n      boucle: \"ordre\",\n      OneRepeate: false,\n      volume: 60,\n      piste: 0,\n      i: 0,\n    };\n  },\n  methods: {\n    playlist() {\n      if (this.seePlaylist == true) {\n        this.music = true;\n        this.seePlaylist = false;\n      } else {\n        this.seePlaylist = true;\n        this.music = false;\n      }\n    },\n\n    createSong() {\n      if (JSON.parse(localStorage.getItem(\"piste\"))) {\n        this.index = JSON.parse(localStorage.getItem(\"piste\"));\n      } else {\n        this.index = 0;\n      }\n      this.current = this.songs[this.index];\n      this.player.src = this.current.src;\n    },\n\n    stockageFavoris() {\n      localStorage.setItem(\"favoris\", JSON.stringify(this.songs));\n    },\n    stockagePiste() {\n      localStorage.setItem(\"piste\", JSON.stringify(this.index));\n    },\n\n    random_bg_color() {\n      // Get a number between 64 to 256 (for getting lighter colors)\n      let red = Math.floor(Math.random() * 256) + 64;\n      let green = Math.floor(Math.random() * 256) + 64;\n      let blue = Math.floor(Math.random() * 256) + 64;\n      let bgColor = \"rgb(\" + red + \",\" + green + \",\" + blue + \",\" + \"0.6\" + \")\";\n      console.log(bgColor);\n\n      // Set the background to that color\n      // document.querySelector(\".bg-content\").style.backgroundColor = bgColor;\n    },\n\n    repeterList(repetition, option) {\n      if (option === \"prev\") {\n        if (repetition === 0) {\n          this.index = 0;\n        } else if (repetition === 1) {\n          this.index = this.songs.length - 1;\n        } else {\n          this.index = this.songs.length - 1;\n        }\n      } else {\n        if (repetition === 0) {\n          this.index = this.songs.length - 1;\n        } else if (repetition === 1) {\n          this.index = 0;\n        } else {\n          this.index = 0;\n        }\n      }\n    },\n\n    ordre() {\n      this.repetition = 1;\n      this.boucle = \"all\";\n    },\n\n    repeatAll() {\n      this.OneRepeate = true;\n      this.repetition = 3;\n      this.boucle = \"repeatOne\";\n    },\n\n    repeatOne() {\n      this.OneRepeate = false;\n      this.repetition = 0;\n      this.boucle = \"ordre\";\n    },\n\n    formatTime(seconds) {\n      let minutes = Math.floor(seconds / 60);\n      seconds = Math.floor(seconds % 60);\n\n      let output = minutes >= 10 ? `${minutes}` : `0${minutes}`;\n      output += seconds >= 10 ? `:${seconds}` : `:0${seconds}`;\n      return output;\n    },\n\n    listenersWhenPlay() {\n      this.player.addEventListener(\"timeupdate\", () => {\n        if (!isNaN(this.player.duration)) {\n          this.current_duree = this.formatTime(this.player.currentTime);\n          this.total_duree = this.formatTime(this.player.duration);\n          let seekPosition =\n            this.player.currentTime * (100 / this.player.duration);\n          this.piste = seekPosition;\n        }\n      });\n      this.player.addEventListener(\"ended\", () => {\n        this.next();\n      });\n    },\n\n    playe(song) {\n      if (typeof song.src !== \"undefined\") {\n        this.index = this.songs.indexOf(song);\n        this.current = song;\n        this.player.src = this.current.src;\n        this.random_bg_color();\n      }\n      this.listenersWhenPlay();\n\n      this.player.play();\n      this.isPlaying = true;\n      this.stockagePiste();\n    },\n\n    playClick(song, index) {\n      this.index = index;\n      if (typeof song.src !== \"undefined\") {\n        this.current = song;\n        this.player.src = this.current.src;\n        this.random_bg_color();\n      }\n\n      this.player.play();\n      this.isPlaying = true;\n      this.listenersWhenPlay();\n      this.stockagePiste();\n    },\n\n    pause() {\n      this.player.pause();\n      this.isPlaying = false;\n    },\n\n    prev() {\n      // this.index = this.songs.indexOf(this.current);\n      this.index--;\n      if (this.index < 0) {\n        this.repeterList(this.repetition, \"prev\");\n      }\n      this.current = this.songs[this.index];\n      this.playe(this.current);\n      this.random_bg_color();\n      this.stockagePiste();\n    },\n\n    next() {\n      this.index++;\n      if (this.index > this.songs.length - 1) {\n        this.repeterList(this.repetition, \"next\");\n      }\n      this.current = this.songs[this.index];\n      this.playe(this.current);\n      this.random_bg_color();\n      this.stockagePiste();\n    },\n\n    setVolume() {\n      this.player.volume = this.volume / 100;\n    },\n\n    setPiste() {\n      this.player.currentTime = this.player.duration * (this.piste / 100);\n    },\n\n    like() {\n      this.current.like = true;\n      this.stockageFavoris();\n    },\n\n    likeListe(index) {\n      this.songs[index].like = true;\n      this.stockageFavoris();\n    },\n\n    dislikeListe(index) {\n      this.songs[index].like = false;\n      this.stockageFavoris();\n    },\n\n    dislike() {\n      this.current.like = false;\n      this.stockageFavoris();\n    },\n\n    likeDislike() {\n      if (this.current.like == false) {\n        this.like();\n      } else {\n        this.dislike();\n      }\n    },\n  },\n\n  mounted() {\n    if (JSON.parse(localStorage.getItem(\"favoris\"))) {\n      this.songs = JSON.parse(localStorage.getItem(\"favoris\"));\n    }\n    this.createSong();\n  },\n};\n</script>\n\n<style scoped>\n.img-blur {\n  width: 100%;\n  width: 100vw;\n  min-height: 100vh;\n  height: 100%;\n  position: absolute;\n  z-index: 0;\n  overflow-x: hidden;\n  color: hsl(228, 20%, 95%) !important;\n  background-repeat: no-repeat !important;\n  background-size: cover !important;\n  background-position: center !important;\n  transition: background 300ms ease;\n}\nimg {\n  width: 100%;\n  height: auto;\n}\n.bg-content {\n  background: linear-gradient(\n    130deg,\n    rgba(251, 251, 254, 0.2),\n    rgba(0, 0, 0, 0.5)\n  );\n  backdrop-filter: blur(5px);\n  min-height: 100vh;\n  height: 100%;\n  width: 100vw;\n  width: 100%;\n  z-index: 100;\n  gap: 5px;\n}\n.player {\n  height: 100vh;\n  min-width: 280px;\n  transition: all 0.4s ease;\n  z-index: 100;\n  /* display: none !important; */\n}\n.about__player {\n  font-size: 1rem;\n}\n\n.link_album {\n  text-decoration: none;\n  color: hsl(228, 20%, 95%);\n  font-size: 1rem;\n}\n.track__image {\n  /* background: url(\"../assets/img/a1.jpg\"); */\n  transition: all 300ms cubic-bezier(0.68, -0.55, 0.27, 1.55);\n  margin: 1rem;\n  height: 300px;\n  width: 300px;\n  background-size: cover !important;\n  border-radius: 0.5rem;\n  cursor: pointer;\n}\n.track__name {\n  font-size: 1rem;\n  font-weight: 600;\n}\n.track__artiste,\n.from__track {\n  font-size: 0.8rem;\n}\n.from__track-title,\n.dot,\n.arrow-bottom {\n  font-size: 1rem;\n  font-weight: 600;\n}\n.buttons__player,\n.details__track {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n}\n.dot,\n.arrow-bottom,\n.like,\n.pause-play,\n.playlist,\n.repeat,\n.prev,\n.next,\n.shuffle {\n  cursor: pointer;\n  opacity: 0.8s;\n  transition: opacity 0.2s;\n}\n.like,\n.playlist {\n  font-size: 1.5rem;\n}\n.bxs-heart {\n  color: rgb(179, 23, 23);\n}\n.prev,\n.next {\n  font-size: 2rem;\n}\n.shuffle,\n.repeat {\n  font-size: 1.5rem;\n}\n.pause-play {\n  font-size: 3rem;\n}\n\ninput[type=\"range\"] {\n  -webkit-appearance: none;\n  border-radius: 5px;\n  height: 3px;\n}\n\ninput[type=\"range\"]::-webkit-progress-bar {\n  background: hsl(228, 0%, 95%) !important;\n}\n\ninput[type=\"range\"]::-webkit-slider-runnable-track {\n  width: 3px;\n  height: 3px;\n  background: hsla(228, 20%, 15%, 50%);\n  border: none;\n  cursor: pointer;\n}\n\ninput[type=\"range\"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: none;\n  height: 12px;\n  width: 12px;\n  border-radius: 50%;\n  background: hsl(228, 0%, 95%);\n  /* background: transparent; */\n  margin-top: -5px;\n  cursor: pointer;\n}\n.current__time,\n.total__time {\n  font-size: 0.8rem;\n}\n.list__player {\n  height: 100vh;\n  min-width: 290px;\n  z-index: 100;\n  margin-bottom: 15px;\n}\n.list__player-header {\n  border-bottom: 1px solid rgb(88, 81, 81);\n}\n.title,\n.arrow__back,\n.dots {\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n.title {\n  font-size: 1.2rem;\n}\n.list_player-body {\n  transition: all 0.5s;\n  max-height: 100vh;\n}\n\n.list__track:hover {\n  /* font-weight: 800; */\n  background-color: rgba(243, 236, 236, 0.452);\n  cursor: pointer;\n  border-radius: 0.5rem;\n  /* transition: transform 0.2s ease; */\n}\n.track__execute_play {\n  background: url(\"../assets/utils/audio.svg\") no-repeat;\n  background-size: 15px;\n  background-position-x: 200px;\n  background-position-y: 12px;\n  background-color: rgba(243, 236, 236, 0.37);\n  border-radius: 0.5rem;\n}\n\n.track__execute {\n  background-color: rgba(243, 236, 236, 0.37);\n  border-radius: 0.5rem;\n}\n.list__track:hover {\n  transition: all ease 0.2s;\n  padding: 0.2rem;\n}\n.overflow__scroll {\n  max-height: 100vh;\n  overflow-y: auto;\n}\n.list__track {\n  margin-top: 1rem;\n}\n.img-track {\n  /* background: url(\"../assets/img/a1.jpg\"); */\n  margin: 0.5rem;\n  margin-top: 1rem;\n  height: 35px;\n  width: 35px;\n  background-size: cover !important;\n  border-radius: 0.2rem;\n}\n.track__infos {\n  height: 35px;\n}\n.name__track {\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.artist__track {\n  font-size: 0.7rem;\n  font-weight: 500;\n}\n.button__like,\n.img-track {\n  cursor: pointer;\n}\n\n/*========== SCROLL BAR ==========*/\n::-webkit-scrollbar {\n  color: black;\n  width: 3px;\n}\n\n::-webkit-scrollbar-thumb {\n  color: black;\n  width: 5px;\n}\n\n.display__none {\n  display: none !important;\n}\n.display__block {\n  display: block !important;\n}\n\n/* Transition ====================================== */\n.slide-enter-active {\n  transition: opacity 0.4s ease-out;\n}\n\n.slide-enter-from,\n.slide-leave-to {\n  opacity: 0;\n}\n</style>"]},"metadata":{},"sourceType":"module"}